@model OuEstMonCamion.ViewModels.TruckFindViewModel
@{
    ViewData["Title"] = "Recherche détaillée";
    int imarker = 0;
    int zoom = 19;
}

<br />
<br />
<br />
<br />
<div class="row " style="margin-left : 12px;">
    <div class="col-md-2">
        <form asp-action="Details" method="post">
            <div class="form-group">
                <label asp-for="couleur"></label>
                <input class="form-control" asp-for="couleur" />
                <span asp-validation-for="couleur"></span>
            </div>

            <div class="form-group">
                <input class="btn btn-primary " type="submit" value="Chercher" />
            </div>

        </form>
    </div>
    <div class="col-md-8">
        @if (Model != null && Model.Trucks != null)
        {
            <div class="container">
                <div id="map"></div>
            </div>
            <script>
                var map;
                function initMap() {


                    map = new google.maps.Map(document.getElementById('map'), {
                        zoom: 16,
                        mapTypeId: 'satellite'

                    });
                    var markerlist = [];
                    @foreach(var truck in Model.Trucks)
                        {
                            @:  markerlist[@imarker] = new google.maps.Marker({
                            @:  position: { lat: @truck.DerniereGeo.latitude, lng: @truck.DerniereGeo.longitude },
                            @:  map: map,
@:});
                            imarker++;
                        }
                    
                 }
            </script>
        }
    </div>
</div>



